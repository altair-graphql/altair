<nz-modal
  [nzVisible]="showDialog"
  (nzVisibleChange)="toggleDialogChange.next($event)"
  [nzTitle]=""
  [nzContent]="modalContent"
  [nzFooter]="null"
  (nzOnCancel)="toggleDialogChange.next($event)"
>
  <ng-template #modalContent>
    <div class="app-dialog-body">
      <div class="account-signin-wrapper">
        <ng-container
          *ngIf="!account?.loggedIn"
        >
          <button
            class="app-button active-primary"
            (click)="submitLogin()"
          >
            {{ 'SIGNIN_WITH_GOOGLE' | translate }}
          </button>
        </ng-container>

        <ng-container
          *ngIf="account?.loggedIn"
        >
        <h3><app-icon name="flask-conical"></app-icon> {{ 'ACCOUNT_TITLE' | translate }} (Beta)</h3>
          <p>Hello, {{ account?.firstName }}</p>
          <p>
            <a target="_blank" href="https://dash.altairgraphql.dev">
              Manage teams
              <app-icon name="external-link"></app-icon>
            </a>
          </p>
          <button
            class="app-button active-primary"
            (click)="logoutChange.emit()"
          >
            {{ 'LOGOUT_TEXT' | translate }}
          </button>
        </ng-container>
        <nz-collapse style="margin-top: 10px;">
          <nz-collapse-panel
            [nzHeader]="'Subscribe to the newsletter'"
          >
            <iframe src="https://altairgraphql.substack.com/embed" width="480" height="320" style="border:1px solid #EEE; background:var(--theme-bg-color);" frameborder="0" scrolling="no"></iframe>
          </nz-collapse-panel>
        </nz-collapse>
      </div>
    </div>
  </ng-template>
</nz-modal>
